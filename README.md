# A Viewer for idol Branch-And-Bound Trees

This is a python script to convert `csv` exports of the [idol C++ library](https://github.com/hlefebvr/idol) into `.dot` files.
This allows to visualize the exploration tree of a branch-and-bound algorithm after its execution.

## Themes

### Debug

![debug theme](https://raw.githubusercontent.com/hlefebvr/idol-tree-dot/main/demos/debug.demo.png)

### Degradation

![degradation theme](https://raw.githubusercontent.com/hlefebvr/idol-tree-dot/main/demos/degradation.demo.png)


### Centered Degradation

![centered degradation theme](https://raw.githubusercontent.com/hlefebvr/idol-tree-dot/main/demos/centered-degradation.demo.png)

### Infeasible

![minimal theme](https://raw.githubusercontent.com/hlefebvr/idol-tree-dot/main/demos/infeasible.demo.png)

### Temporal

![temporal theme](https://raw.githubusercontent.com/hlefebvr/idol-tree-dot/main/demos/temporal.demo.png)

### Minimal

![minimal theme](https://raw.githubusercontent.com/hlefebvr/idol-tree-dot/main/demos/minimal.demo.png)

### Plot

*Contrary all the other themes, this theme generates a .tex file instead of a .dot file.*

It generates an alternative tree representation according to *Practical Solution of Large Mixed Integer Programming Problems with Umpire*
J. J. H. Forrest, J. P. H. Hirst, and J. A. Tomlin, Management Science (1974) 20:5, 736-773. [https://doi.org/10.1287/mnsc.20.5.736](https://doi.org/10.1287/mnsc.20.5.736).

![plot theme](https://raw.githubusercontent.com/hlefebvr/idol-tree-dot/main/demos/plot.demo.png)

## How to generate the csv file

The csv file is generated by adding the `Utils::ExportBranchAndBoundTreeToCSV` callback to idol's `BranchAndBound` optimizer.

```cpp
model.use(
        BranchAndBound()
                .with_node_optimizer(HiGHS::ContinuousRelaxation())
                .with_branching_rule(PseudoCost())
                .with_callback(Utils::ExportBranchAndBoundTreeToCSV("tree.csv")) // Here
                .with_callback(Heuristics::SimpleRounding())
                .with_node_selection_rule(BestEstimate())
                .with_log_level(Info, Blue)
                .with_log_frequency(1)
);
```

## How to use

```shell
python3 src/main.py --path path/to/csv/file [--theme degradation] [--output custom_filename.dot]
```
